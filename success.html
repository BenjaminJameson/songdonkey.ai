<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SongDonkey - AI Online Audio Splitting</title>
    <meta name="description"
        content="SongDonkey extracts and splits audio into vocals, drums, bass, piano and other using artificial intelligence (AI). We're always fast and always free.">
    <meta name="keywords" content="audio, splitting, split, extract, separate, online, ai, artificial intelligence">
    <meta name="theme-color" content="#D3D3D1">
    <link rel="stylesheet" href="styles/styles.css">
    <!-- <link rel="stylesheet" href="styles/styles.css" media="print" onload="this.media='all'"> -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Roboto:wght@500&display=swap"
        rel="stylesheet">
    <!-- <script src="index.js"></script> -->
    <!-- Default theme. ~960B -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@vime/core@^5/themes/default.css" />

    <!-- Optional light theme (extends default). ~400B -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@vime/core@^5/themes/light.css" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TQNHGTGWPJ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-TQNHGTGWPJ');
    </script>
    <script data-ad-client="ca-pub-8347029003312041" async
        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8347029003312041"
     crossorigin="anonymous"></script> -->
    <script>
        window.onload = function () {
            var x = window.matchMedia("(max-width: 800px)");
            document.getElementById('mainDiv').classList.add("hideElement");
            document.getElementById('resultsDiv').classList.remove('hideElement');
            document.getElementById('donations').classList.remove('hideElement');
        }
    </script>
</head>

<body>
    <div class="mainImage"></div>
    <img class="mobileImage" src="https://llytonca.sirv.com/mobileImg.webp" alt="record player image" width="100%"
        height="auto">
    <div class="greyBackground"></div>
    <!-- header -->
    <header class="header">
        <div class="logo">
            <a href="https://songdonkey.ai/"><img src="assets/songdonkey.svg" alt="songdonkey logo" height="25px"></a>
        </div>
        <nav id="nav" class="nav">
            <img class="navCross" src="assets/cross.svg" alt="cross icon">
            <a href="about.html">About</a>
            <a href="contact.html">Contact</a>
            <a href="privacyPolicy.html" target="_blank">Privacy Policy</a>
        </nav>
        <div class="navBurger" onclick="openNav(event)">
            <img src="assets/navBurger.svg" alt="navbar burger lines icon">
        </div>
    </header>
    <!-- /header -->

    <!-- <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js"
        data-id="songdonkey" data-description="Support me on Buy me a coffee!"
        data-message="Please consider giving a little to help run the servers" data-color="#FF5F5F"
        data-position="Right" data-x_margin="18" data-y_margin="18"></script> -->

    <!-- main div -->
    <div id="mainDiv" class="row">
        <div class="leftSide">
            <h1 id="title"><span style="color: #A68263;">Thank </span> you</h1>
            <h2 id="subtitle">Loading fully extracted audio</h2>

            <div id="droptarget" class="droptarget">
                <div id="insideDropTarget" class="insideDropTarget">
                    <div style="display: flex; justify-content: center; align-items: center;">
                        <script
                            src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
                        <lottie-player class="animation mobileHide" max-height="162px" max-width="158px"
                            src="https://assets9.lottiefiles.com/packages/lf20_zos1rbzl.json" background="transparent"
                            speed="1" loop autoplay>
                        </lottie-player>
                    </div>
                    <div>
                        <label class="uploadLabel" for="audioInput">
                            <input id="audioInput" style="display: none;" type="file" accept="audio/mpeg,audio/wav" />
                            <h2 style="color: white; align-self: center; text-align: center; font-size: x-large;">Start
                            </h2>
                            <img src="assets/upload.svg" alt="upload icon" width="auto" height="65%" class="uploadIcon">
                        </label>
                        <p class="mobileNoMargin" style="text-align: center; font-family: lato;"><span
                                class="mobileHide">Or drop files here<br></span>
                            <span style="color: #525252; font-size:smaller">Only .mp3 and .wav files</span>
                        </p>
                    </div>
                </div>
                <!-- use the template div here for speed -->
                <div id="insideDropTargetSecondPage" class="insideDropTarget hideElement"
                    style="justify-content: center;">
                    <form id="formOptions" style="display: flex; gap: 27px; flex-direction: column;">
                        <div id="uploadingBar" style="visibility: visible;">
                            <p style="display: contents; color: #525252; font-family: Lato;">Uploading</p>
                            <div style="background-color: rgba(255, 255, 255, 0.5); height: 6px; border-radius: 6px;">
                                <div id="uploadProgress" class="progress-line"></div>
                            </div>
                        </div>
                        <div style="font-family: lato;">
                            <p style="display: contents;">Number of tracks to extract</p>
                            <!-- <select name="tracks" id="tracks" class="dropdownOptions">
                                <option value="2">2 (vocals, accompaniment)</option>
                                <option value="4">4 (vocals, bass, drums, other)</option>
                                <option value="5">5 (vocals, bass, drums, other, piano)</option>
                            </select> -->
                            <div class="custom-select" style="width:100%;">
                                <select name="tracks" id="tracks">
                                    <option value="2">2 (vocals, accompaniment)</option>
                                    <option value="2">2 (vocals, accompaniment)</option>
                                    <option value="4">4 (vocals, bass, drums, other)</option>
                                    <option value="5">5 (vocals, bass, drums, other, piano)</option>
                                </select>
                            </div>
                            <p style="display: contents;">Output format</p>
                            <!-- <select name="outputFormat" id="outputFormat" class="dropdownOptions">
                                <option value=".mp3">.mp3</option>
                                <option value=".wav">.wav</option>
                            </select> -->
                            <div class="custom-select" style="width:100%;">
                                <select name="outputFormat" id="outputFormat">
                                    <option value=".mp3">.mp3</option>
                                    <option value=".mp3">.mp3</option>
                                    <option value=".wav">.wav</option>
                                </select>
                            </div>
                        </div>
                        <div id="disableClick" class="disableClick">
                            <label class="uploadLabel" for="formSubmit">
                                <input id="formSubmit" style="display: none;" onclick="writeDBsplitOptions()" />
                                <h2 style="color: white; align-self: center; text-align: center; font-size: 1.3em;">
                                    Split audio</h2>
                                <img src="assets/heart.svg" alt="heart icon" width="auto" height="22px"
                                    class="uploadIcon">
                            </label>
                        </div>
                    </form>
                    <div>
                    </div>
                </div>
                <div id="insideDropTargetThirdPage" class="insideDropTarget hideElement"
                    style="justify-content: center; gap: 15px;">
                    <div
                        style="position: relative; display: flex; flex-direction: column; justify-content: space-around; align-items: center;">
                        <lottie-player class="animation"
                            src="https://assets9.lottiefiles.com/packages/lf20_zos1rbzl.json" background="transparent"
                            speed="1" loop autoplay>
                        </lottie-player>
                        <h2 style="color:#0A0B0D; align-self: center; text-align: center;">
                            Separating tracks...</h2>
                    </div>
                    <div>
                        <p id="timeEstimate" style="display: contents;">Estimated time 1 minute 20 seconds</p>
                        <div style="background-color: rgba(255, 255, 255, 0.5); height: 6px; border-radius: 6px;">
                            <div id="timed-progress" class="timed-progress"></div>
                            <div id="timed-progress-20" class="timed-progress-20 hideElement"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="spaceMiddle">
        </div>
        <div class="rightSide">
            <div class="topBoxRight mobileHide">
                <div>

                    <h3><img class="tick" src="assets/tick.svg" alt="tick icon"></img>Always <span
                            style="color: #A68263;">Fast</span>
                    </h3>
                </div>
                <div>
                    <h3><img class="tick" src="assets/tick.svg" alt="tick icon">No <span
                            style="color: #A68263;">Sign-up</span>
                    </h3>
                </div>
            </div>
            <div id="soundcloudExamples" class="examplesMargin">
                <!-- Library and all of its components are lazy loaded, so nothing to sweat about here. ~3kB -->
                <script type="module" src="https://cdn.jsdelivr.net/npm/@vime/core@^5/dist/vime/vime.esm.js"></script>
                <vm-player theme="light" style="--vm-player-theme: #A68263; --vm-player-box-shadow: none">
                    <vm-audio mediaTitle="Example Song">
                        <!-- serve this through a cdn ###### -->
                        <source mediaTitle="Example Song"
                            data-src="https://audio-example-songdonkey.s3.amazonaws.com/Example.mp3" type="audio/mp3" />
                    </vm-audio>
                    <vm-ui>
                        <vm-loading-screen>
                        </vm-loading-screen>
                        <vm-controls
                            style="--vm-controls-bg: #ffffff2e; --vm-controls-bg: none; --vm-controls-padding: 8px 0px 8px 0px">
                            <vm-control
                                style="--vm-control-bg:var(--vm-player-theme); --vm-control-border-radius: 100px; --vm-control-color: #FFFFFF; --vm-control-scale: 1; --vm-control-icon-size: 15px; --vm-control-padding: 2px">
                                <vm-playback-control>
                                </vm-playback-control>
                            </vm-control>
                            <span style="text-align: center; font-family: lato;">Example</span>
                            <vm-scrubber-control></vm-scrubber-control>
                            <vm-control>
                                <vm-end-time />
                            </vm-control>
                        </vm-controls>
                    </vm-ui>
                </vm-player>
                <vm-player currentTextTrack theme="light"
                    style="--vm-player-theme: #A68263; --vm-player-box-shadow: none">
                    <vm-audio mediaTitle="Example Song">
                        <source mediaTitle="Example Song"
                            data-src="https://audio-example-songdonkey.s3.amazonaws.com/Vocals.mp3" type="audio/mp3" />
                    </vm-audio>
                    <vm-ui>
                        <vm-loading-screen>
                        </vm-loading-screen>
                        <vm-captions></vm-captions>
                        <vm-controls
                            style="--vm-controls-bg: #ffffff2e; --vm-controls-bg: none; --vm-controls-padding: 8px 0px 8px 0px">
                            <vm-control
                                style="--vm-control-bg:var(--vm-player-theme); --vm-control-border-radius: 100px; --vm-control-color: #FFFFFF; --vm-control-scale: 1; --vm-control-icon-size: 15px; --vm-control-padding: 2px">
                                <vm-playback-control>
                                </vm-playback-control>
                            </vm-control>
                            <span style="text-align: center; font-family: lato;">Vocals</span>
                            <vm-scrubber-control></vm-scrubber-control>
                            <vm-control label="Playback" keys="k" pressed="true">
                                <vm-end-time />
                            </vm-control>
                        </vm-controls>
                    </vm-ui>
                </vm-player>
                <vm-player currentTextTrack theme="light"
                    style="--vm-player-theme: #A68263; --vm-player-box-shadow: none">
                    <vm-audio mediaTitle="Example Song">
                        <source mediaTitle="Example Song"
                            data-src="https://audio-example-songdonkey.s3.amazonaws.com/Accompaniment.mp3"
                            type="audio/mp3" />
                    </vm-audio>
                    <vm-ui>
                        <vm-loading-screen>
                        </vm-loading-screen>
                        <vm-captions></vm-captions>
                        <vm-controls
                            style="--vm-controls-bg: #ffffff2e; --vm-controls-bg: none; --vm-controls-padding: 8px 0px 8px 0px">
                            <vm-control
                                style="--vm-control-bg:var(--vm-player-theme); --vm-control-border-radius: 100px; --vm-control-color: #FFFFFF; --vm-control-scale: 1; --vm-control-icon-size: 15px; --vm-control-padding: 2px">
                                <vm-playback-control>
                                </vm-playback-control>
                            </vm-control>
                            <span style="text-align: center; font-family: lato;">Accompaniment</span>
                            <vm-scrubber-control></vm-scrubber-control>
                            <vm-control label="Playback" keys="k" pressed="true">
                                <vm-end-time />
                            </vm-control>
                        </vm-controls>
                    </vm-ui>
                </vm-player>
            </div>
        </div>

    </div>
    <!-- /main div -->

    <!-- results div -->



    <div id="resultsDiv" class="row hideElement">


        <div style="display: flex; justify-content: space-evenly; width: 100%; flex-wrap: wrap;">

            <div id="insideDropTarget" class="droptargetResults">
                <h1 id="thankYou"><span style="color: #A68263;">Thank</span> you</h1>
                <p id="processingNoticeToHide">Allow up to one minute while the artificial intelligence processes
                    your full audio</p>
                <!-- AUDIO PLAYERS -->
                <div>
                    <!-- <vm-player theme="light" style="--vm-player-theme: #A68263; --vm-player-box-shadow: none">
                        <vm-audio mediaTitle="Example Song">
                            <source id="originalAudioId" mediaTitle="Example Song"
                                data-src="https://song-splitter-bucket.s3.amazonaws.com//mnt/somepath/8276339354/accompaniment.mp3"
                                type="audio/mp3" />
                        </vm-audio>
                        <vm-ui>
                            <vm-loading-screen>
                            </vm-loading-screen>
                            <vm-controls style="--vm-controls-bg: #ffffff2e; --vm-controls-bg: none">
                                <vm-control
                                    style="--vm-control-bg:var(--vm-player-theme); --vm-control-border-radius: 50%; --vm-control-color: #FFFFFF; --vm-control-scale: 1; --vm-control-icon-size: 15px; --vm-control-padding: 2px">
                                    <vm-playback-control>
                                    </vm-playback-control>
                                </vm-control>
                                <span style="text-align: center; font-family: lato;">Original audio</span>
                                <vm-scrubber-control></vm-scrubber-control>
                                <vm-control>
                                    <vm-end-time />
                                </vm-control>
                                <vm-control onclick="download('originalAudioId')"
                                    style="--vm-control-bg:var(--vm-player-theme); --vm-control-border-radius: 100px; --vm-control-color: #FFFFFF; --vm-control-padding: 6px">
                                    <vm-icon src="assets/download.svg" label="An icon"
                                        style="width: 11px; height: 11px;">
                                    </vm-icon>
                                    <vm-tooltip>Download</vm-tooltip>
                                </vm-control>
                            </vm-controls>
                        </vm-ui>
                    </vm-player> -->
                    </a>
                    <vm-player theme="light" style="--vm-player-theme: #A68263; --vm-player-box-shadow: none">
                        <vm-audio mediaTitle="Example Song">
                            <source id="vocalsId" mediaTitle="Example Song" data-src="" type="audio/wav" />
                        </vm-audio>
                        <vm-ui>
                            <vm-loading-screen>
                            </vm-loading-screen>
                            <vm-controls style="--vm-controls-bg: #ffffff2e; --vm-controls-bg: none">
                                <vm-control
                                    style="--vm-control-bg:var(--vm-player-theme); --vm-control-border-radius: 100px; --vm-control-color: #FFFFFF; --vm-control-scale: 1; --vm-control-icon-size: 15px; --vm-control-padding: 2px">
                                    <vm-playback-control>
                                    </vm-playback-control>
                                </vm-control>
                                <span style="text-align: center; font-family: lato;">Vocals</span>
                                <vm-scrubber-control></vm-scrubber-control>
                                <vm-control>
                                    <vm-end-time />
                                </vm-control>
                                <vm-control onclick="download('vocalsId')"
                                    style="--vm-control-bg:var(--vm-player-theme); --vm-control-border-radius: 100px; --vm-control-color: #FFFFFF; --vm-control-padding: 6px">
                                    <vm-icon src="assets/download.svg" label="An icon"
                                        style="width: 11px; height: 11px;">
                                    </vm-icon>
                                    <!-- Icon by mithun on freeicons.io -->
                                    <vm-tooltip>Download</vm-tooltip>
                                </vm-control>
                            </vm-controls>
                        </vm-ui>
                    </vm-player>
                    <vm-player id="playerAccompaniment" class="hideElement" theme="light"
                        style="--vm-player-theme: #A68263; --vm-player-box-shadow: none">
                        <vm-audio mediaTitle="Example Song">
                            <source id="accompanimentId" mediaTitle="Example Song" data-src="" type="audio/wav" />
                        </vm-audio>
                        <vm-ui>
                            <vm-loading-screen>
                            </vm-loading-screen>
                            <vm-controls style="--vm-controls-bg: #ffffff2e; --vm-controls-bg: none">
                                <vm-control
                                    style="--vm-control-bg:var(--vm-player-theme); --vm-control-border-radius: 100px; --vm-control-color: #FFFFFF; --vm-control-scale: 1; --vm-control-icon-size: 15px; --vm-control-padding: 2px">
                                    <vm-playback-control>
                                    </vm-playback-control>
                                </vm-control>
                                <span style="text-align: center; font-family: lato;">Accompaniment</span>
                                <vm-scrubber-control></vm-scrubber-control>
                                <vm-control>
                                    <vm-end-time />
                                </vm-control>
                                <vm-control onclick="download('accompanimentId')"
                                    style="--vm-control-bg:var(--vm-player-theme); --vm-control-border-radius: 100px; --vm-control-color: #FFFFFF; --vm-control-padding: 6px">
                                    <vm-icon src="assets/download.svg" label="An icon"
                                        style="width: 11px; height: 11px;">
                                    </vm-icon>
                                    <vm-tooltip>Download</vm-tooltip>
                                </vm-control>
                            </vm-controls>
                        </vm-ui>
                    </vm-player>
                    <vm-player id="playerBass" class="hideElement" theme="light"
                        style="--vm-player-theme: #A68263; --vm-player-box-shadow: none">
                        <vm-audio mediaTitle="Example Song">
                            <source id="bassId" mediaTitle="Example Song" data-src="" type="audio/wav" />
                        </vm-audio>
                        <vm-ui>
                            <vm-loading-screen>
                            </vm-loading-screen>
                            <vm-controls style="--vm-controls-bg: #ffffff2e; --vm-controls-bg: none">
                                <vm-control
                                    style="--vm-control-bg:var(--vm-player-theme); --vm-control-border-radius: 100px; --vm-control-color: #FFFFFF; --vm-control-scale: 1; --vm-control-icon-size: 15px; --vm-control-padding: 2px">
                                    <vm-playback-control>
                                    </vm-playback-control>
                                </vm-control>
                                <span style="text-align: center; font-family: lato;">Bass</span>
                                <vm-scrubber-control></vm-scrubber-control>
                                <vm-control>
                                    <vm-end-time />
                                </vm-control>
                                <vm-control onclick="download('bassId')"
                                    style="--vm-control-bg:var(--vm-player-theme); --vm-control-border-radius: 100px; --vm-control-color: #FFFFFF; --vm-control-padding: 6px">
                                    <vm-icon src="assets/download.svg" label="An icon"
                                        style="width: 11px; height: 11px;">
                                    </vm-icon>
                                    <vm-tooltip>Download</vm-tooltip>
                                </vm-control>
                            </vm-controls>
                        </vm-ui>
                    </vm-player>
                    <vm-player id="playerDrums" class="hideElement" theme="light"
                        style="--vm-player-theme: #A68263; --vm-player-box-shadow: none">
                        <vm-audio mediaTitle="Example Song">
                            <source id="drumsId" mediaTitle="Example Song" data-src="" type="audio/wav" />
                        </vm-audio>
                        <vm-ui>
                            <vm-loading-screen>
                            </vm-loading-screen>
                            <vm-controls style="--vm-controls-bg: #ffffff2e; --vm-controls-bg: none">
                                <vm-control
                                    style="--vm-control-bg:var(--vm-player-theme); --vm-control-border-radius: 100px; --vm-control-color: #FFFFFF; --vm-control-scale: 1; --vm-control-icon-size: 15px; --vm-control-padding: 2px">
                                    <vm-playback-control>
                                    </vm-playback-control>
                                </vm-control>
                                <span style="text-align: center; font-family: lato;">Drums</span>
                                <vm-scrubber-control></vm-scrubber-control>
                                <vm-control>
                                    <vm-end-time />
                                </vm-control>
                                <vm-control onclick="download('drumsId')"
                                    style="--vm-control-bg:var(--vm-player-theme); --vm-control-border-radius: 100px; --vm-control-color: #FFFFFF; --vm-control-padding: 6px">
                                    <vm-icon src="assets/download.svg" label="An icon"
                                        style="width: 11px; height: 11px;">
                                    </vm-icon>
                                    <!-- Icon by mithun on freeicons.io -->
                                    <vm-tooltip>Download</vm-tooltip>
                                </vm-control>
                            </vm-controls>
                        </vm-ui>
                    </vm-player>
                    <vm-player id="playerPiano" class="hideElement" theme="light"
                        style="--vm-player-theme: #A68263; --vm-player-box-shadow: none">
                        <vm-audio mediaTitle="Example Song">
                            <source id="pianoId" mediaTitle="Example Song" data-src="" type="audio/wav" />
                        </vm-audio>
                        <vm-ui>
                            <vm-loading-screen>
                            </vm-loading-screen>
                            <vm-controls style="--vm-controls-bg: #ffffff2e; --vm-controls-bg: none">
                                <vm-control
                                    style="--vm-control-bg:var(--vm-player-theme); --vm-control-border-radius: 100px; --vm-control-color: #FFFFFF; --vm-control-scale: 1; --vm-control-icon-size: 15px; --vm-control-padding: 2px">
                                    <vm-playback-control>
                                    </vm-playback-control>
                                </vm-control>
                                <span style="text-align: center; font-family: lato;">Piano</span>
                                <vm-scrubber-control></vm-scrubber-control>
                                <vm-control>
                                    <vm-end-time />
                                </vm-control>
                                <vm-control onclick="download('pianoId')"
                                    style="--vm-control-bg:var(--vm-player-theme); --vm-control-border-radius: 100px; --vm-control-color: #FFFFFF; --vm-control-padding: 6px">
                                    <vm-icon src="assets/download.svg" label="An icon"
                                        style="width: 11px; height: 11px;">
                                    </vm-icon>
                                    <!-- Icon by mithun on freeicons.io -->
                                    <vm-tooltip>Download</vm-tooltip>
                                </vm-control>
                            </vm-controls>
                        </vm-ui>
                    </vm-player>
                    <vm-player id="playerOther" class="hideElement" theme="light"
                        style="--vm-player-theme: #A68263; --vm-player-box-shadow: none">
                        <vm-audio mediaTitle="Example Song">
                            <source id="otherId" mediaTitle="Example Song" data-src="" type="audio/wav" />
                        </vm-audio>
                        <vm-ui>
                            <vm-loading-screen>
                            </vm-loading-screen>
                            <vm-controls style="--vm-controls-bg: #ffffff2e; --vm-controls-bg: none">
                                <vm-control
                                    style="--vm-control-bg:var(--vm-player-theme); --vm-control-border-radius: 100px; --vm-control-color: #FFFFFF; --vm-control-scale: 1; --vm-control-icon-size: 15px; --vm-control-padding: 2px">
                                    <vm-playback-control>
                                    </vm-playback-control>
                                </vm-control>
                                <span style="text-align: center; font-family: lato;">Other</span>
                                <vm-scrubber-control></vm-scrubber-control>
                                <vm-control>
                                    <vm-end-time />
                                </vm-control>
                                <vm-control onclick="download('otherId')"
                                    style="--vm-control-bg:var(--vm-player-theme); --vm-control-border-radius: 100px; --vm-control-color: #FFFFFF; --vm-control-padding: 6px">
                                    <vm-icon src="assets/download.svg" label="An icon"
                                        style="width: 11px; height: 11px;">
                                    </vm-icon>
                                    <!-- Icon by mithun on freeicons.io -->
                                    <vm-tooltip>Download</vm-tooltip>
                                </vm-control>
                            </vm-controls>
                        </vm-ui>
                    </vm-player>
                    <!-- /AUDIO PLAYERS -->
                </div>
                <div class="resultIconsDiv"
                    style="display: flex; justify-content: center; gap: 20px; margin-top: 20px; margin-bottom: 20px;">
                    <div>
                        <a id="zipDownload" href="" download>
                            <img class="resultIcons" src="assets/downloadAll.svg" alt="download all icon" height="60px">
                            <a id="zipDownloadText" href="">
                                <p style="text-align: center; font-family: lato; margin-top: 0px; margin-bottom: 0px;">
                                    Download all<br></p>
                            </a>
                        </a>
                    </div>
                    <a href="https://songdonkey.ai/">
                        <img class="resultIcons" src="assets/restart.svg" alt="restart icon" height="60px">
                        <p style="text-align: center; font-family: lato; margin-top: 0px; margin-bottom: 0px;">
                            Restart<br>
                        </p>
                    </a>
                    <!-- <label class="uploadLabel" for="checkoutButton">
                        <input id="checkoutButton" style="display: none;" onclick="writeDBsplitOptions()" />
                        <h2
                            style="color: white; align-self: center; text-align: center; font-size: 1.3em; font-weight: 600;">
                            Checkout $0.50</h2>
                        <img src="assets/stars.svg" alt="heart icon" width="auto" height="30px" class="uploadIcon">
                    </label> -->
                </div>
            </div>

            <div id="donations" class="donations hideElement">
                <!-- <h1 id="thankYou"><span style="color:black">Success!</span></h1> -->
                <!-- <a href="https://www.buymeacoffee.com/songdonkey" target="_blank"><img
                        src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=&slug=songdonkey&button_colour=FF5F5F&font_colour=ffffff&font_family=Lato&outline_colour=000000&coffee_colour=FFDD00"></a>

                <a href="https://nowpayments.io/donation?api_key=MJFNQ5E-AV3MPYN-QKWZ608-D6N100W" target="_blank"> <img
                        width="235px" src="https://nowpayments.io/images/embeds/donation-button-black.svg"
                        alt="Crypto donation button by NOWPayments"> </a> -->
                <!-- <h1 style="color: black; font-size: x-large;">To enjoy the next <span style="color: #A68263;">
                        hour of unlimited free </span><br> splitting on this device, simply reload the <br>site and
                    upload
                    as normal</h1> -->
            </div>
        </div>
    </div>

    <!-- error div  -->
    <div id="errorDiv" class="row hideElement">
        <div id="insideDropTarget" class="droptargetResults">
            <h1 id="thankYou"><span style="color: #A68263;">Apologies,</span> we feel like such an ass <span><img
                        src="assets/songdonkeyIcon.svg" alt=""></span></h1>
            <!-- AUDIO PLAYERS -->
            <div style="display: contents; font-family: Lato; text-align: left;">
                There has been an error. Please contact us and we'll issue a refund as soon as possible. In the meantime
                a few things to try may
                be:
                <ul>
                    <li>The site only accepts mp3 or wav files</li>
                    <li>Split less stems (2 or 4 if it failed with 5)</li>
                    <li>Select mp3 as the output instead of wav</li>
                    <li>There is a maximum file size of 300mb</li>
                    <li>Just try again. Sometimes the server takes longer than usual to start, but will be awake and
                        ready if you retry</li>
                    <li>Please contact us if the error persists and we'll do our best to help</li>
                </ul>
            </div>
            <div class="resultIconsDiv"
                style="display: flex; justify-content: center; gap: 20px; margin-top: 20px; margin-bottom: 20px;">
                <a href="https://songdonkey.ai/">
                    <img class="resultIcons" src="assets/restart.svg" alt="restart icon" height="60px">
                    <p style="text-align: center; font-family: lato; margin-top: 0px; margin-bottom: 0px;">Restart<br>
                    </p>
                </a>
            </div>
        </div>
    </div>

    <script>
        let search = window.location.search
        search = search.replace('?', '')
        let objectKeyNameOnly = search.split('/')[0]
        let numberTracks = search.split('/')[1]
        let outputFormat = search.split('/')[2]
        console.log(objectKeyNameOnly, numberTracks, outputFormat)


        var s3BucketURL = 'https://song-splitter-output.s3-accelerate.amazonaws.com/';
        var accompanimentURL = `${s3BucketURL}/mnt/somepath/fullaudiofolder/${objectKeyNameOnly}/accompaniment${outputFormat}`;
        var vocalsURL = `${s3BucketURL}/mnt/somepath/fullaudiofolder/${objectKeyNameOnly}/vocals${outputFormat}`;
        var bassURL = `${s3BucketURL}/mnt/somepath/fullaudiofolder/${objectKeyNameOnly}/bass${outputFormat}`;
        var drumsURL = `${s3BucketURL}/mnt/somepath/fullaudiofolder/${objectKeyNameOnly}/drums${outputFormat}`;
        var otherURL = `${s3BucketURL}/mnt/somepath/fullaudiofolder/${objectKeyNameOnly}/other${outputFormat}`;
        var pianoURL = `${s3BucketURL}/mnt/somepath/fullaudiofolder/${objectKeyNameOnly}/piano${outputFormat}`;
        var zipURL = `${s3BucketURL}/mnt/somepath/fullaudiofolder/${objectKeyNameOnly}/SongDonkey.zip`;
        var errorFile = `${s3BucketURL}/mnt/somepath/${objectKeyNameOnly}/error.txt`;

        var allUrls = {
            'accompaniment': accompanimentURL,
            'vocals': vocalsURL,
            'bass': bassURL,
            'drums': drumsURL,
            'other': otherURL,
            'piano': pianoURL,
            'zip': zipURL,
            'errorFile': errorFile
        };

        checkExistsThenUpdate(allUrls)

        // if (numberTracks == '2') {
        //     // set urls
        //     document.getElementById('vocalsId').setAttribute('data-src', allUrls['vocals']);
        //     document.getElementById('accompanimentId').setAttribute('data-src', allUrls['accompaniment']);
        //     // show audio players
        //     document.getElementById('playerAccompaniment').classList.remove('hideElement');
        //     document.getElementById('zipDownload').href = allUrls['zip'];
        //     document.getElementById('zipDownloadText').href = allUrls['zip'];
        // }
        // if (numberTracks == '4') {
        //     // set urls
        //     document.getElementById('vocalsId').setAttribute('data-src', allUrls['vocals']);
        //     document.getElementById('bassId').setAttribute('data-src', allUrls['bass']);
        //     document.getElementById('drumsId').setAttribute('data-src', allUrls['drums']);
        //     document.getElementById('otherId').setAttribute('data-src', allUrls['other']);
        //     // show audio players
        //     document.getElementById('playerBass').classList.remove('hideElement');
        //     document.getElementById('playerDrums').classList.remove('hideElement');
        //     document.getElementById('playerOther').classList.remove('hideElement');
        //     document.getElementById('zipDownload').href = allUrls['zip'];
        //     document.getElementById('zipDownloadText').href = allUrls['zip'];
        // }
        // if (numberTracks == '5') {
        //     // set urls
        //     document.getElementById('vocalsId').setAttribute('data-src', allUrls['vocals']);
        //     document.getElementById('bassId').setAttribute('data-src', allUrls['bass']);
        //     document.getElementById('drumsId').setAttribute('data-src', allUrls['drums']);
        //     document.getElementById('pianoId').setAttribute('data-src', allUrls['piano']);
        //     document.getElementById('otherId').setAttribute('data-src', allUrls['other']);
        //     // show audio players
        //     document.getElementById('playerBass').classList.remove('hideElement');
        //     document.getElementById('playerDrums').classList.remove('hideElement');
        //     document.getElementById('playerOther').classList.remove('hideElement');
        //     document.getElementById('playerPiano').classList.remove('hideElement');
        //     document.getElementById('zipDownload').href = allUrls['zip'];
        //     document.getElementById('zipDownloadText').href = allUrls['zip'];
        // }

        async function download(audioId) {
            var url = document.getElementById(audioId).getAttribute('data-src');
            // var obj = await fetch(url);
            var urlSplit = url.split('/');
            var filename = urlSplit[urlSplit.length - 1];
            console.log(filename);
            const blob = await (await fetch(url, { method: 'GET' })).blob();
            const blobUrl = URL.createObjectURL(blob);
            var element = document.createElement('a');
            element.setAttribute('href', blobUrl);
            element.setAttribute('download', filename);
            element.click();
            element.remove();
        }

        async function checkExistsThenUpdate(allUrls) {
            var check = '';
            if (numberTracks == '2') {
                var check = await checkIfFileExistsYet(allUrls['vocals']);
                var checkError = await checkIfFileExistsYet(allUrls['errorFile']);
            }
            if (numberTracks == '4') {
                var check = await checkIfFileExistsYet(allUrls['other']);
                var checkError = await checkIfFileExistsYet(allUrls['errorFile']);
            }
            if (numberTracks == '5') {
                var check = await checkIfFileExistsYet(allUrls['piano']);
                var checkError = await checkIfFileExistsYet(allUrls['errorFile']);
            }
            if (check['status'] == 200) {
                updateAudioElements(allUrls);
                return
            } else if (checkError['status'] == 200) {
                view_error();
                return
            } else {
                await new Promise(r => setTimeout(r, 2000)); //number is the delay to keep retrying
                checkExistsThenUpdate(allUrls);
            }
        }

        async function checkIfFileExistsYet(url) {
            var file = {};
            await fetch(url, { method: 'GET' })
                .then((response) => {
                    console.log("checking response");
                    file = response;
                })
                .then((result) => {
                    console.log("checking result");
                })
                .catch((error) => {
                    console.error("checking error", error);
                });
            return file
        }

        function updateAudioElements(allUrls) {
            console.log("updating audioElements");
            document.getElementById('processingNoticeToHide').style.display = 'none'
            if (numberTracks == '2') {
                // set urls
                document.getElementById('vocalsId').setAttribute('data-src', allUrls['vocals']);
                document.getElementById('accompanimentId').setAttribute('data-src', allUrls['accompaniment']);
                // show audio players
                document.getElementById('playerAccompaniment').classList.remove('hideElement');
                document.getElementById('zipDownload').href = allUrls['zip'];
                document.getElementById('zipDownloadText').href = allUrls['zip'];
            }
            if (numberTracks == '4') {
                // set urls
                document.getElementById('vocalsId').setAttribute('data-src', allUrls['vocals']);
                document.getElementById('bassId').setAttribute('data-src', allUrls['bass']);
                document.getElementById('drumsId').setAttribute('data-src', allUrls['drums']);
                document.getElementById('otherId').setAttribute('data-src', allUrls['other']);
                // show audio players
                document.getElementById('playerBass').classList.remove('hideElement');
                document.getElementById('playerDrums').classList.remove('hideElement');
                document.getElementById('playerOther').classList.remove('hideElement');
                document.getElementById('zipDownload').href = allUrls['zip'];
                document.getElementById('zipDownloadText').href = allUrls['zip'];
            }
            if (numberTracks == '5') {
                // set urls
                document.getElementById('vocalsId').setAttribute('data-src', allUrls['vocals']);
                document.getElementById('bassId').setAttribute('data-src', allUrls['bass']);
                document.getElementById('drumsId').setAttribute('data-src', allUrls['drums']);
                document.getElementById('pianoId').setAttribute('data-src', allUrls['piano']);
                document.getElementById('otherId').setAttribute('data-src', allUrls['other']);
                // show audio players
                document.getElementById('playerBass').classList.remove('hideElement');
                document.getElementById('playerDrums').classList.remove('hideElement');
                document.getElementById('playerOther').classList.remove('hideElement');
                document.getElementById('playerPiano').classList.remove('hideElement');
                document.getElementById('zipDownload').href = allUrls['zip'];
                document.getElementById('zipDownloadText').href = allUrls['zip'];
            }
            // view_results();
        }
    </script>

</body>

</html>